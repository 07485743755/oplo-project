{"name":"getAccessToken","id":"co.oplo.rough.AuthTest:getAccessToken","testCaseName":"co.oplo.rough.AuthTest","testSteps":[{"number":1,"description":"Get access token: api-sit, postman, 38a9d0c1-46b3-4b14-9f06-86a7da7eebb6, client_credentials","duration":3160,"startTime":"2021-10-10T15:34:34.931+01:00[Europe/London]","result":"SUCCESS","precondition":false,"children":[{"number":2,"description":"Create Access Token with apiRealm: api-sit, clientId :postman, clientSecret:38a9d0c1-46b3-4b14-9f06-86a7da7eebb6, grantType:client_credentials","duration":2848,"startTime":"2021-10-10T15:34:35.243+01:00[Europe/London]","result":"SUCCESS","precondition":false,"children":[{"number":3,"description":"POST https://auth.myoplo.io/auth/realms/api-sit/protocol/openid-connect/token\r\r","duration":0,"startTime":"2021-10-10T15:34:38.076+01:00[Europe/London]","result":"SUCCESS","restQuery":{"method":"POST","path":"https://auth.myoplo.io/auth/realms/api-sit/protocol/openid-connect/token\r\r","content":"\r","contentType":"null","requestHeaders":"Accept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/x-www-form-urlencoded; charset\u003dISO-8859-1\r\r","requestCookies":"\r\r","responseHeaders":"Date: Sun, 10 Oct 2021 14:34:38 GMT\nContent-Type: application/json\nContent-Length: 1377\nConnection: keep-alive\nCache-Control: no-store\nSet-Cookie: KC_RESTART\u003d; Version\u003d1; Expires\u003dThu, 01-Jan-1970 00:00:10 GMT; Max-Age\u003d0; Path\u003d/auth/realms/api-sit/; Secure; HttpOnly\nX-XSS-Protection: 1; mode\u003dblock\nPragma: no-cache\nX-Frame-Options: SAMEORIGIN\nReferrer-Policy: no-referrer\nStrict-Transport-Security: max-age\u003d31536000; includeSubDomains\nX-Content-Type-Options: nosniff\r","responseCookies":"KC_RESTART\u003d;Path\u003d/auth/realms/api-sit/;Max-Age\u003d0;Secure;HttpOnly;Expires\u003d1/1/70 12:00 AM;Version\u003d1\r","responseBody":"{\n    \"access_token\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZaFRYUndrSFdfMURUWVVyc2pKNVRWUU1Rb3RtQ0p5OGJPaGZYSFZMWVJrIn0.eyJleHAiOjE2MzM4NzY3NzgsImlhdCI6MTYzMzg3NjQ3OCwianRpIjoiZjllNmZlMjItMDFiOS00MTY1LThhNjUtOWQzZjZjMmY0YzIyIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLm15b3Bsby5pby9hdXRoL3JlYWxtcy9hcGktc2l0IiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjJlZjYxYTE3LTFiNGItNDBiNi1hMDEzLTAzZDFjNWViZmFhYSIsInR5cCI6IkJlYXJlciIsImF6cCI6InBvc3RtYW4iLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudEhvc3QiOiI5MC4xOTYuMTE3LjIyOCIsImNsaWVudElkIjoicG9zdG1hbiIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC1wb3N0bWFuIiwiY2xpZW50QWRkcmVzcyI6IjkwLjE5Ni4xMTcuMjI4In0.EkKJB-XHzy4Qo_-pMn7HPO1cmwvMu-zxz2kQvYWTVSbL35MslbiObyT7mzAig2HULmkRcjMphXJrvNjMf_I5kpJWI6f9cUJZe88Iq4T-tDeqB5Oy_w5c0TpAsPwDR76weZfv37lSTfGwZ9ib1LWkPk1nIHcjSmlZZkpo8RzZUHKZHfhp7n0FnucIOTzvN5SN9dC34YFJFbNRHwlGC3GmlC37NVlhUq6PewZf-62bX9r6wqhQHNQRMYK9J9hlbHhJwZMczvsuSYmlXFwagvWDV2v4BVhJljsw6djNPiswmTD52f39l-uxXvXFVQ1HJIti2tKEA3KXdOr2ceR1qutnsA\",\n    \"expires_in\": 300,\n    \"refresh_expires_in\": 0,\n    \"token_type\": \"Bearer\",\n    \"not-before-policy\": 0,\n    \"scope\": \"profile email\"\n}","statusCode":200},"precondition":false}]}]},{"number":4,"description":"Check auth status: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZaFRYUndrSFdfMURUWVVyc2pKNVRWUU1Rb3RtQ0p5OGJPaGZYSFZMWVJrIn0.eyJleHAiOjE2MzM4NzY3NzgsImlhdCI6MTYzMzg3NjQ3OCwianRpIjoiZjllNmZlMjItMDFiOS00MTY1LThhNjUtOWQzZjZjMmY0YzIyIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLm15b3Bsby5pby9hdXRoL3JlYWxtcy9hcGktc2l0IiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjJlZjYxYTE3LTFiNGItNDBiNi1hMDEzLTAzZDFjNWViZmFhYSIsInR5cCI6IkJlYXJlciIsImF6cCI6InBvc3RtYW4iLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudEhvc3QiOiI5MC4xOTYuMTE3LjIyOCIsImNsaWVudElkIjoicG9zdG1hbiIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC1wb3N0bWFuIiwiY2xpZW50QWRkcmVzcyI6IjkwLjE5Ni4xMTcuMjI4In0.EkKJB-XHzy4Qo_-pMn7HPO1cmwvMu-zxz2kQvYWTVSbL35MslbiObyT7mzAig2HULmkRcjMphXJrvNjMf_I5kpJWI6f9cUJZe88Iq4T-tDeqB5Oy_w5c0TpAsPwDR76weZfv37lSTfGwZ9ib1LWkPk1nIHcjSmlZZkpo8RzZUHKZHfhp7n0FnucIOTzvN5SN9dC34YFJFbNRHwlGC3GmlC37NVlhUq6PewZf-62bX9r6wqhQHNQRMYK9J9hlbHhJwZMczvsuSYmlXFwagvWDV2v4BVhJljsw6djNPiswmTD52f39l-uxXvXFVQ1HJIti2tKEA3KXdOr2ceR1qutnsA","duration":547,"startTime":"2021-10-10T15:34:38.404+01:00[Europe/London]","result":"SUCCESS","precondition":false,"children":[{"number":5,"description":"Check auth status: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZaFRYUndrSFdfMURUWVVyc2pKNVRWUU1Rb3RtQ0p5OGJPaGZYSFZMWVJrIn0.eyJleHAiOjE2MzM4NzY3NzgsImlhdCI6MTYzMzg3NjQ3OCwianRpIjoiZjllNmZlMjItMDFiOS00MTY1LThhNjUtOWQzZjZjMmY0YzIyIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLm15b3Bsby5pby9hdXRoL3JlYWxtcy9hcGktc2l0IiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjJlZjYxYTE3LTFiNGItNDBiNi1hMDEzLTAzZDFjNWViZmFhYSIsInR5cCI6IkJlYXJlciIsImF6cCI6InBvc3RtYW4iLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudEhvc3QiOiI5MC4xOTYuMTE3LjIyOCIsImNsaWVudElkIjoicG9zdG1hbiIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC1wb3N0bWFuIiwiY2xpZW50QWRkcmVzcyI6IjkwLjE5Ni4xMTcuMjI4In0.EkKJB-XHzy4Qo_-pMn7HPO1cmwvMu-zxz2kQvYWTVSbL35MslbiObyT7mzAig2HULmkRcjMphXJrvNjMf_I5kpJWI6f9cUJZe88Iq4T-tDeqB5Oy_w5c0TpAsPwDR76weZfv37lSTfGwZ9ib1LWkPk1nIHcjSmlZZkpo8RzZUHKZHfhp7n0FnucIOTzvN5SN9dC34YFJFbNRHwlGC3GmlC37NVlhUq6PewZf-62bX9r6wqhQHNQRMYK9J9hlbHhJwZMczvsuSYmlXFwagvWDV2v4BVhJljsw6djNPiswmTD52f39l-uxXvXFVQ1HJIti2tKEA3KXdOr2ceR1qutnsA","duration":547,"startTime":"2021-10-10T15:34:38.404+01:00[Europe/London]","result":"SUCCESS","precondition":false,"children":[{"number":6,"description":"GET https://api.sit.myoplo.io/v1/broker/status\r\r","duration":0,"startTime":"2021-10-10T15:34:38.951+01:00[Europe/London]","result":"SUCCESS","restQuery":{"method":"GET","path":"https://api.sit.myoplo.io/v1/broker/status\r\r","content":"\r","contentType":"application/json","requestHeaders":"Authorization\u003dBearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZaFRYUndrSFdfMURUWVVyc2pKNVRWUU1Rb3RtQ0p5OGJPaGZYSFZMWVJrIn0.eyJleHAiOjE2MzM4NzY3NzgsImlhdCI6MTYzMzg3NjQ3OCwianRpIjoiZjllNmZlMjItMDFiOS00MTY1LThhNjUtOWQzZjZjMmY0YzIyIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLm15b3Bsby5pby9hdXRoL3JlYWxtcy9hcGktc2l0IiwiYXVkIjoiYWNjb3VudCIsInN1YiI6IjJlZjYxYTE3LTFiNGItNDBiNi1hMDEzLTAzZDFjNWViZmFhYSIsInR5cCI6IkJlYXJlciIsImF6cCI6InBvc3RtYW4iLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsImNsaWVudEhvc3QiOiI5MC4xOTYuMTE3LjIyOCIsImNsaWVudElkIjoicG9zdG1hbiIsInByZWZlcnJlZF91c2VybmFtZSI6InNlcnZpY2UtYWNjb3VudC1wb3N0bWFuIiwiY2xpZW50QWRkcmVzcyI6IjkwLjE5Ni4xMTcuMjI4In0.EkKJB-XHzy4Qo_-pMn7HPO1cmwvMu-zxz2kQvYWTVSbL35MslbiObyT7mzAig2HULmkRcjMphXJrvNjMf_I5kpJWI6f9cUJZe88Iq4T-tDeqB5Oy_w5c0TpAsPwDR76weZfv37lSTfGwZ9ib1LWkPk1nIHcjSmlZZkpo8RzZUHKZHfhp7n0FnucIOTzvN5SN9dC34YFJFbNRHwlGC3GmlC37NVlhUq6PewZf-62bX9r6wqhQHNQRMYK9J9hlbHhJwZMczvsuSYmlXFwagvWDV2v4BVhJljsw6djNPiswmTD52f39l-uxXvXFVQ1HJIti2tKEA3KXdOr2ceR1qutnsA\r\n\t\t\t\tAccept\u003d*/*\r\n\t\t\t\tContent-Type\u003dapplication/json; charset\u003dUTF-8\r\r","requestCookies":"\r\r","responseHeaders":"Server: awselb/2.0\nDate: Sun, 10 Oct 2021 14:34:39 GMT\nContent-Type: text/html\nContent-Length: 118\nConnection: keep-alive\r","responseCookies":"\r","responseBody":"\u003chtml\u003e\n  \u003chead\u003e\n    \u003ctitle\u003e403 Forbidden\u003c/title\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003ccenter\u003e\n      \u003ch1\u003e403 Forbidden\u003c/h1\u003e\n    \u003c/center\u003e\n  \u003c/body\u003e\n\u003c/html\u003e","statusCode":403},"precondition":false}]}]}],"userStory":{"id":"co.oplo.rough.AuthTest","storyName":"Auth test","storyClassName":"co.oplo.rough.AuthTest","path":"co.oplo.rough","type":"story"},"featureTag":{"name":"Rough/Auth test","type":"story"},"title":"Get access token","tags":[{"name":"Rough/Auth test","type":"story"}],"startTime":"2021-10-10T15:34:34.818+01:00[Europe/London]","duration":4195,"testFailureCause":{"errorType":"java.lang.AssertionError","message":"1 expectation failed.\nExpected status code \u003c200\u003e but was \u003c403\u003e.\n","stackTrace":[{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"validateResponseIfRequired","fileName":"ResponseSpecificationImpl.groovy","lineNumber":636},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":122},{"declaringClass":"io.restassured.internal.ResponseSpecificationImpl","methodName":"statusCode","fileName":"ResponseSpecificationImpl.groovy","lineNumber":130},{"declaringClass":"io.restassured.internal.ValidatableResponseOptionsImpl","methodName":"statusCode","fileName":"ValidatableResponseOptionsImpl.java","lineNumber":117},{"declaringClass":"co.oplo.rough.AuthTest","methodName":"getAccessToken","fileName":"AuthTest.java","lineNumber":25}]},"testFailureClassname":"java.lang.AssertionError","testFailureMessage":"1 expectation failed.\nExpected status code \u003c200\u003e but was \u003c403\u003e.\n","testFailureSummary":"FAILURE;java.lang.AssertionError;1 expectation failed.\nExpected status code \u003c200\u003e but was \u003c403\u003e.\n;ResponseSpecificationImpl.groovy","projectKey":"","annotatedResult":"FAILURE","manual":false,"testSource":"JUnit","result":"FAILURE"}